---
import PostList from '@/components/PostList.astro';
import ProjectList from '@/components/ProjectList.astro';
import Layout from '@/layouts/Layout.astro';
import { getAllPosts } from '@/utils/post';
import { getAllProjects } from '@/utils/project';

const pageTitle = "Hello!!";
const identity = {
  firstName: "サラ",
  country: "カナダ",
  occupation: "技術ライター",
  hobbies: ["写真", "バードウォッチング", "野球"],
};

const allPosts = await getAllPosts()
const blogEntries = allPosts.slice(0, 3)
const allProjects = await getAllProjects();
const projectEntries = allProjects.slice(0, 3)
// TODO: setting meta
const meta = {
	description: "test",
	title: "test",
};
---
<Layout meta={meta}>
  <h1>{pageTitle}</h1>
  <section>
    <p>私はAstroの入門チュートリアルを進めています。これは私のウェブサイトの2番目のページで、自分で作った初めてのページです！</p>
    <p>このサイトはチュートリアルを進めるにつれて更新されていきます。定期的にチェックして、私の旅の様子を見に来てください！</p>
    <p>以下は私に関するいくつかの事実です。</p>
    <ul>
      <li>私の名前は{identity.firstName}です。</li>
      <li>{identity.country}に住んでおり、{identity.occupation}として働いています。</li>
      {identity.hobbies.length >= 2 &&
        <li>私の2つの趣味は{identity.hobbies[0]}と{identity.hobbies[1]}です。</li>
      }
    </ul>
  </section>
  <section>
    <h2>Posts</h2>
    <PostList postList={blogEntries} isTagsVisible={false} />
  </section>
  <section>
    <h2>Projects</h2>
    <ProjectList projectList={projectEntries} />
  </section>
</Layout>
